<!DOCTYPE html>
<html>
<head>
    <title>Training Video</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        .container {
            text-align: center;
            margin: 20vh 0;
            min-height: 50vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #startBtn {
            padding: 30px 60px;
            font-size: 24px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        #startBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <button id="startBtn">
            Start Training Video
        </button>
    </div>

    <script>
        document.getElementById('startBtn').addEventListener('click', async function() {
            // JUST THE FILENAME - NO PATH
            const videoFileName = "2025 MIL St.mp4";
            
            // Create fullscreen container
            const fsContainer = document.createElement('div');
            fsContainer.style.background = 'black';
            fsContainer.style.position = 'fixed';
            fsContainer.style.top = '0';
            fsContainer.style.left = '0';
            fsContainer.style.width = '100%';
            fsContainer.style.height = '100%';
            fsContainer.style.zIndex = '1000';
            
            // Create video element
            const video = document.createElement('video');
            video.src = videoFileName; // Source is just the filename
            video.playsInline = true;
            video.disablePictureInPicture = true;
            
            // ===== LOCKDOWN SETTINGS =====
            video.controls = false; // Hide all controls
            
            // Block right-click and keyboard controls
            video.addEventListener('contextmenu', e => e.preventDefault());
            video.addEventListener('keydown', e => {
                if (['Space', 'ArrowLeft', 'ArrowRight', 'KeyF', 'KeyM'].includes(e.code)) e.preventDefault();
            });
            
            // Prevent seeking
            let lastTime = 0;
            video.addEventListener('timeupdate', () => lastTime = video.currentTime);
            video.addEventListener('seeked', () => {
                if (Math.abs(video.currentTime - lastTime) > 1) {
                    video.currentTime = lastTime;
                }
            });
            
            // Style video to fill the container
            video.style.width = '100%';
            video.style.height = '100%';
            video.style.objectFit = 'contain';
            
            // Add video to container
            fsContainer.appendChild(video);
            document.body.appendChild(fsContainer);
            
            try {
                // 1. Enter fullscreen first (required for autoplay with sound)
                await fsContainer.requestFullscreen();
                
                // 2. Start playback (muted first for autoplay policies, then unmute)
                video.muted = true;
                await video.play();
                video.muted = false;
                
            } catch (err) {
                console.error("Playback failed:", err);
                alert("Video playback failed. Please click 'Allow' for fullscreen and autoplay permissions.");
                video.controls = true; // Fallback: show controls if playback fails
            }
            
            // Clean up when finished
            video.addEventListener('ended', () => {
                if (document.fullscreenElement) document.exitFullscreen();
                fsContainer.remove();
                this.style.display = 'block'; // Show the button again
            });
            
            // Hide button
            this.style.display = 'none';
        });

        // Add hover effect
        const btn = document.getElementById('startBtn');
        btn.addEventListener('mouseover', () => {
            btn.style.transform = 'scale(1.05)';
            btn.style.boxShadow = '0 6px 12px rgba(0,0,0,0.3)';
        });
        btn.addEventListener('mouseout', () => {
            btn.style.transform = 'scale(1)';
            btn.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
        });
    </script>
</body>
</html>